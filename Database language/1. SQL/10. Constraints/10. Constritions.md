

---

# SECTION 10: SQL CONSTRAINTS & KEYS

---

## 1. What are Constraints?

**Constraints** are rules applied to table columns to **enforce data integrity and accuracy**.

ðŸ“Œ They restrict the type of data that can be stored in a table  
ðŸ“Œ Applied at **column level** or **table level**

---

## 2. Why Constraints are Important

- Prevent invalid data
- Maintain consistency
- Enforce business rules
- Improve data quality

---

## 3. Types of Constraints

| Constraint | Description |
|----------|-------------|
| NOT NULL | Prevents NULL values |
| UNIQUE | Ensures unique values |
| PRIMARY KEY | Unique + Not NULL |
| FOREIGN KEY | Creates relationship |
| CHECK | Validates condition |
| DEFAULT | Assigns default value |

---

## 4. NOT NULL Constraint

### Purpose
Ensures column cannot have NULL value.

```sql
CREATE TABLE student (
    id INT NOT NULL,
    name VARCHAR(50) NOT NULL
);
```

---

5. UNIQUE Constraint

Purpose

Ensures all values in a column are unique.
```
CREATE TABLE users (
    email VARCHAR(100) UNIQUE
);
```
ðŸ“Œ Allows NULL (only once)


---

6. PRIMARY KEY (VERY IMPORTANT â­â­â­)

Definition

Uniquely identifies each row

Cannot be NULL

Only one primary key per table

```
CREATE TABLE employee (
    emp_id INT PRIMARY KEY,
    name VARCHAR(50)
);
```

---

Composite Primary Key
```
CREATE TABLE enrollment (
    student_id INT,
    course_id INT,
    PRIMARY KEY (student_id, course_id)
);
```

---

7. FOREIGN KEY (VERY IMPORTANT â­â­â­)

Definition

Creates a relationship between two tables.

References primary key of another table

Maintains referential integrity

```
CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    FOREIGN KEY (customer_id)
    REFERENCES customers(customer_id)
);
```

---

ON DELETE Actions

Action	Description

CASCADE	Deletes child records
SET NULL	Sets foreign key to NULL
RESTRICT	Prevents delete
NO ACTION	Same as RESTRICT


FOREIGN KEY (customer_id)
REFERENCES customers(customer_id)
ON DELETE CASCADE;


---

8. CHECK Constraint

Purpose

Validates data before insertion.
```
CREATE TABLE employee (
    emp_id INT,
    age INT CHECK (age >= 18),
    salary DECIMAL(10,2) CHECK (salary > 0)
);
```

---

9. DEFAULT Constraint

Purpose

Assigns default value if none is provided.
```
CREATE TABLE student (
    country VARCHAR(30) DEFAULT 'India'
);
```

---

10. Column-Level vs Table-Level Constraints

Type	Column-Level	Table-Level

Applied	Single column	Multiple columns
Usage	Simple constraints	Composite keys



---

11. What are Keys?

Keys are columns used to identify rows uniquely and create relationships.


---

12. Types of Keys (INTERVIEW FAVORITE â­â­â­)

Key	Description

Primary Key	Unique identifier
Foreign Key	Reference key
Candidate Key	Possible primary keys
Super Key	Any unique column set
Alternate Key	Candidate not chosen
Composite Key	Multiple columns



---

13. Candidate Key

Minimal set of columns

Can uniquely identify rows


ðŸ“Œ One candidate key becomes primary key


---

14. Super Key

Superset of candidate key

May contain extra columns



---

15. Alternate Key

Candidate key not selected as primary key



---

16. Composite Key

Combination of two or more columns

Used when single column not sufficient



---

17. PRIMARY KEY vs UNIQUE (INTERVIEW FAVORITE â­)

Feature	PRIMARY KEY	UNIQUE

NULL allowed	âŒ No	âœ… Yes
Count per table	One	Multiple
Index created	Yes	Yes



---

18. FOREIGN KEY vs PRIMARY KEY

Feature	PRIMARY KEY	FOREIGN KEY

Uniqueness	Yes	No
NULL allowed	No	Yes
Purpose	Identify row	Create relation



---

Key Points to Remember

One primary key per table

Foreign key ensures referential integrity

CHECK enforces conditions

DEFAULT assigns values automatically

Keys define table relationships



---

Interview Questions

Basic

1. What are constraints?


2. Difference between PRIMARY KEY and UNIQUE?


3. What is FOREIGN KEY?




---

Intermediate

4. What is candidate key?


5. Can a table have multiple foreign keys?


6. What is composite key?




---

Advanced

7. What happens when parent record is deleted?


8. Difference between super key and candidate key?


9. Can foreign key reference UNIQUE key?




---

Scenario-Based Questions

Scenario 1

Ensure employee age is above 18.

CHECK (age >= 18)


---

Scenario 2

Delete child records when parent deleted.

ON DELETE CASCADE


---

Scenario 3

Ensure email uniqueness.

UNIQUE (email)


---

Practice Questions

1. Create a table with composite primary key.


2. Add foreign key with ON DELETE SET NULL.


3. Difference between candidate key and alternate key.


4. Can UNIQUE constraint accept NULL?


5. Why primary key is important?




---
