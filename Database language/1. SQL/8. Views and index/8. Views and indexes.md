
---

# SECTION 8: SQL VIEWS & INDEXES

---

## PART A: SQL VIEWS

---

## 1. What is a View?

A **VIEW** is a **virtual table** based on the result of a SELECT query.

- Stores query, not data
- Acts like a table for querying
- Used for **security**, **simplicity**, and **abstraction**

---

## 2. Why Use Views? (Interview Perspective)

- Hide sensitive columns
- Simplify complex queries
- Provide data abstraction
- Improve query reusability

---

## 3. Creating a View

### Syntax
```sql
CREATE VIEW emp_view AS
SELECT emp_id, name, dept
FROM employee;
```

---

4. Using a View
```
SELECT * FROM emp_view;
```
üìå Querying a view is same as querying a table


---

5. Updating Data Through a View
```
UPDATE emp_view
SET dept = 'HR'
WHERE emp_id = 101;
```
‚úîÔ∏è Allowed if view is simple


---

6. Simple vs Complex Views (VERY IMPORTANT ‚≠ê)

Feature	Simple View	Complex View

Tables Used	One	Multiple
Aggregate Functions	No	Yes
GROUP BY	No	Yes
Insert/Update/Delete	Yes	No



---

7. Dropping a View
```
DROP VIEW emp_view;
```

---

8. WITH CHECK OPTION

Purpose

Ensures data updates through view satisfy view condition.
```
CREATE VIEW it_emp AS
SELECT * FROM employee
WHERE dept = 'IT'
WITH CHECK OPTION;
```
üìå Prevents inserting non-IT employees


---

PART B: SQL INDEXES


---

9. What is an Index?

An INDEX is a database object used to speed up data retrieval.

üìå Works like an index in a book


---

10. Why Use Indexes?

Faster SELECT queries

Efficient searching

Improves performance on large tables


‚ö†Ô∏è Slows down INSERT, UPDATE, DELETE


---

11. Creating an Index
```
CREATE INDEX idx_salary
ON employee(salary);
```

---

12. Unique Index
```
CREATE UNIQUE INDEX idx_email
ON employee(email);
```
üìå Ensures unique values


---

13. Dropping an Index
```
DROP INDEX idx_salary;
```

---

14. Types of Indexes (INTERVIEW FAVORITE ‚≠ê)

Type	Description

Single-column	Index on one column
Composite	Index on multiple columns
Unique	Prevents duplicates
Clustered	Physical order (1 per table)
Non-Clustered	Logical order


üìå MySQL uses B-Tree indexes by default


---

15. Clustered vs Non-Clustered Index

Feature	Clustered	Non-Clustered

Data Storage	Sorted physically	Separate structure
Number	One	Multiple
Primary Key	Yes	No



---

Key Points to Remember

View = virtual table

Views store query, not data

Index improves SELECT performance

Too many indexes slow down DML

Clustered index = physical order



---

Interview Questions

Views

1. What is a view?


2. Can we update data through a view?


3. Difference between view and table?




---

Indexes

4. What is an index?


5. Difference between clustered and non-clustered index?


6. When should indexes be avoided?




---

Scenario-Based Questions

Scenario 1

Hide salary column from users.
```
CREATE VIEW emp_public AS
SELECT emp_id, name, dept
FROM employee;
```

---

Scenario 2

Speed up search by salary.
```
CREATE INDEX idx_salary
ON employee(salary);
```

---

Scenario 3

Ensure email uniqueness.
```
CREATE UNIQUE INDEX idx_email
ON employee(email);
```

---

Practice Questions

1. Create a view for HR employees only.


2. Update employee department using view.


3. Create a composite index on (dept, salary).


4. Drop an index created on salary.


5. Explain why index slows down INSERT.
